\chapter{Conclusions and Future Work}\label{ch:conclusion}
%ADD in this section etc

\section{Summary and Conclusions}
This report starts by introducing the subject.
The aim is described and the motivation for this research is given.

After the main introduction, the concepts of Geometric Mechanics are introduced. 
Instead of the trivial Euclidean spaces defined by Cartesian coordinates, the configuration space of the model is described on nonlinear manifolds.
This approach is used to obtain a model through the tools of Differential Geometry. 

Based on the geometric model, a nonlinear geometric control design is discussed.  
A backstepping approach, allows different \a{DOF}s of the under-actuated system to be controlled in a cascaded structure. 
The geometric control is based on 
 are functions
of error functions defined on nonlinear manifolds.
by Differential Geometry. 

Next, the experiment is defined. The nonlinear controller is used to track desired load trajectories in different situations. The nonlinear performance is compared to an \a{lqr} control 
Testing the nonlinear Geometric Controller
To compare with a common linear controller, \a{lqr} control is used to compare
Results are,

The conclusions that can be extracted from the experiments is that 

\section{Recommendations for Future Work}\label{ch:future}
% DONT make it look like literature survey. Based on details, show what I have learned. What could be interesting next. What is missing for the next steps.

\subsection{Investigate Implementation}
%Lack of time: no implementation possible. 
%In order to realize this, one needs to investigate the subjects

\paragraph{Digital Control} The concept of Geometric Control is shown under the assumption of continuous-time control. 
However, an analysis must be done in the discrete-time domain for the implementation of a real-time application. This must verify whether it is feasible to run the controller on an on-board processor on a \a{qr}. The control performance could be limited by the bandwidth of either the discretized control system or the wireless communication.
It must be investigated whether the control system is still able to deal with the fast dynamics that are required for aggressive maneuvering. 
Continuous-time Euler-Lagrange equations could be found by minimizing the action integral, which is a function of the Lagrangian. In a similar procedure the discrete-time Euler-Lagrange can be obtained, by minimizing te summation of a discrete Lagrangian, which is demonstrated in \cite{Lee2008}. 
%ADD reference Lee, digital geometric control. computed
%Computational Geometric Mechanics and Control\\
%\cite{Lee2008}
%Computation algorithms must be developed which preserve the geometric properties of a mechanical system.\\

\paragraph{Model identification and validation}
In this thesis the model parameters are either obtained from examples in literature or arbitrarily chosen. In practice, identification and validation of the \a{qr} model and rotor dynamics is required.
The mathematical model requires inclusion of the masses, inertia matrix and lengths of the \a{qr}, as well as the drag and thrust constants of the rotors, that are very unlikely to be identical.

As a theoretical extension the influence of model mismatches could be simulated.

\paragraph{Robustness}
The control in this thesis assumes perfect state feedback. In practice the controller depends on visual feedback or data obtained from an on-board inertial measurement unit. Unlike in simulations, this data will contain noise, uncertainties and possibly drift. 
Based on a nonlinear geometric approach for a \a{qr} without load, \cite{Goodarzi2013a} includes uncertainties in the translational dynamics and rotational dynamics to prove the robustness against unstructured uncertainties. This work could be extended to a \a{qr}-Load system to investigate the effects of non-perfect state feedback. 

Due to uncertainties
In what way would parameter choice in the controllers affect robustness?
To test the controller for

%\section{Parameter- and State Estimation}\label{sec:con.par}

%ADD?? Methods to obtain states? Suggest Vicon and how to deal with noise?
How to estimate states?
%ADD?? test robustness by adding noise? KF to estimate states? 

Parameter Estimation can be done by\\

State Estimation can be done by\\

Drawback: assumes all states to be known

Model based. What if analytical model is not accurate?

What parameters must be 

%\subsection{Modeling Constraints}

%CHECK is dit uberhaupt nodig
%There are several techniques to handle input saturation, the most popular ones are anti-windup techniques. Back-calculation is such a method for PID to activate the integrator, is this possible for NL control?

%CHECK
%State estimation 

%CHECK
%Model Uncertainties
%\cite{Goodarzi2013a} includes uncertainties in the translational dynamics and rotational dynamics. Out of the scope, might be interesting.

\subsection{Minimum Snap Trajectory Generation}
The trajectories described in Section \ref{sec:set.traj} were arbitrarily generated by hand to test the performance of the controller in different situations. 
Whenever more complex trajectories are desired, or when an optimal trajectory is required, this approach is no longer efficient and too complex to solve by hand.
A recommended extension to this thesis is the automatic generation of a trajectory. 
This can be done as presented by \cite{Mellinger2011} and applied in \cite{Tang2014,Tang2015}, where a \acs{qp} problem is solved by minimizing the second derivative of the acceleration (snap),  guaranteeing a smooth optimal trajectory. The \a{qp} allows inclusion of input constraints and other requirements. 
It is proven that the system is \textit{differential flat}, meaning that all states and inputs can be expressed in terms of only four states and their derivatives. This property is used to transform the high-dimensional optimization problem into a four-dimensional problem.

\subsection{Hybrid System}
This thesis is only focused on the subsystem where the tension in the cable is non-zero. A possible extension is to apply hybrid control, such that the controller is able to switch between two subsystem models whenever the cable tension switches between zero and non-zero. 
A trajectory generation method that accounts for the switching dynamics of the hybrid system is presented in \cite{Tang2014}. 